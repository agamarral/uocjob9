(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"1Fo7":function(e){e.exports=JSON.parse('[{"category":{"uid":"001","name":"Actividades F\xedsicas y Deportivas"},"titles":[{"uid":"1001","gradeLevel":"middle","name":"T\xe9cnico en Conducci\xf3n de Actividades F\xedsico-Deportivas en el Medio Natural"},{"uid":"1002","gradeLevel":"superior","name":"T\xe9cnico Superior en Acondicionamiento F\xedsico"},{"uid":"1003","gradeLevel":"superior","name":"T\xe9cnico Superior en Ense\xf1anza y Animaci\xf3n Sociodeportiva"}]},{"category":{"uid":"002","name":"Administraci\xf3n y Gesti\xf3n"},"titles":[{"uid":"2001","gradeLevel":"basic","name":"Profesional B\xe1sico en Servicios Administrativos"},{"uid":"2002","gradeLevel":"middle","name":"T\xe9cnico en Gesti\xf3n Administrativa"},{"uid":"2003","gradeLevel":"superior","name":"T\xe9cnico Superior en Administraci\xf3n y Finanzas"},{"uid":"2004","gradeLevel":"superior","name":"T\xe9cnico Superior en Asistencia a la Direcci\xf3n"}]},{"category":{"uid":"003","name":"Agraria"},"titles":[{"uid":"3001","gradeLevel":"basic","name":"Profesional B\xe1sico en Agro-jardiner\xeda y Composiciones Florales"},{"uid":"3002","gradeLevel":"middle","name":"T\xe9cnico en Aprovechamiento y Conservaci\xf3n del Medio Natural"},{"uid":"3003","gradeLevel":"middle","name":"T\xe9cnico en Jardiner\xeda y Florister\xeda"},{"uid":"3004","gradeLevel":"middle","name":"T\xe9cnico en Producci\xf3n Agroecol\xf3gica"},{"uid":"3005","gradeLevel":"middle","name":"T\xe9cnico en Producci\xf3n Agropecuaria"},{"uid":"3006","gradeLevel":"superior","name":"T\xe9cnico Superior en Ganader\xeda y Asistencia en Sanidad Animal"},{"uid":"3007","gradeLevel":"superior","name":"T\xe9cnico Superior en Gesti\xf3n Forestal y del Medio Natural"},{"uid":"3008","gradeLevel":"superior","name":"T\xe9cnico Superior en Paisajismo y Medio Rural"}]},{"category":{"uid":"004","name":"Artes Gr\xe1ficas"},"titles":[{"uid":"4001","gradeLevel":"basic","name":"Profesional B\xe1sico en Artes Gr\xe1ficas"},{"uid":"4002","gradeLevel":"middle","name":"T\xe9cnico en Impresi\xf3n Gr\xe1fica"},{"uid":"4003","gradeLevel":"middle","name":"T\xe9cnico en Preimpresi\xf3n Digital"},{"uid":"4004","gradeLevel":"superior","name":"T\xe9cnico Superior en Dise\xf1o y Gesti\xf3n de la Producci\xf3n Gr\xe1fica"}]},{"category":{"uid":"005","name":"Comercio y M\xe1rketing"},"titles":[{"uid":"5001","gradeLevel":"basic","name":"Profesional B\xe1sico en Servicios Comerciales"},{"uid":"5002","gradeLevel":"middle","name":"T\xe9cnico en Actividades Comerciales"},{"uid":"5003","gradeLevel":"superior","name":"T\xe9cnico Superior en Comercio Internacional"},{"uid":"5004","gradeLevel":"superior","name":"T\xe9cnico Superior en Gesti\xf3n de Ventas y Espacios Comerciales"},{"uid":"5005","gradeLevel":"superior","name":"T\xe9cnico Superior en Marketing y Publicidad"},{"uid":"5006","gradeLevel":"superior","name":"T\xe9cnico Superior en Transporte y Log\xedstica"}]},{"category":{"uid":"006","name":"Edificaci\xf3n y Obra Civil"},"titles":[{"uid":"6001","gradeLevel":"middle","name":"T\xe9cnico en Obras de Interior, Decoraci\xf3n y Rehabilitaci\xf3n"},{"uid":"6002","gradeLevel":"superior","name":"T\xe9cnico Superior en Proyectos de Edificaci\xf3n"},{"uid":"6003","gradeLevel":"superior","name":"T\xe9cnico Superior en Proyectos de Obra Civil"}]},{"category":{"uid":"007","name":"Electricidad y Electr\xf3nica"},"titles":[{"uid":"7001","gradeLevel":"basic","name":"Profesional B\xe1sico en Electricidad y Electr\xf3nica"},{"uid":"7002","gradeLevel":"middle","name":"T\xe9cnico en Instalaciones de Telecomunicaciones"},{"uid":"7003","gradeLevel":"middle","name":"T\xe9cnico en Instalaciones El\xe9ctricas y Autom\xe1ticas"},{"uid":"7004","gradeLevel":"superior","name":"T\xe9cnico Superior en Automatizaci\xf3n y Rob\xf3tica Industrial"},{"uid":"7005","gradeLevel":"superior","name":"T\xe9cnico Superior en Mantenimiento Electr\xf3nico"},{"uid":"7006","gradeLevel":"superior","name":"T\xe9cnico Superior en Sistemas de Telecomunicaciones e Inform\xe1ticos"},{"uid":"7007","gradeLevel":"superior","name":"T\xe9cnico Superior en Sistemas Electrot\xe9cnicos y Automatizados"}]},{"category":{"uid":"008","name":"Energ\xeda y Agua"},"titles":[{"uid":"8001","gradeLevel":"middle","name":"T\xe9cnico en Redes y Estaciones de Tratamiento de Aguas"},{"uid":"8002","gradeLevel":"superior","name":"T\xe9cnico Superior en Eficiencia Energ\xe9tica y Energ\xeda Solar T\xe9rmica"},{"uid":"8003","gradeLevel":"superior","name":"T\xe9cnico Superior en Energ\xedas Renovables"},{"uid":"8004","gradeLevel":"superior","name":"T\xe9cnico Superior en Gesti\xf3n del Agua"}]},{"category":{"uid":"009","name":"Fabricaci\xf3n Mec\xe1nica"},"titles":[{"uid":"9001","gradeLevel":"basic","name":"Profesional B\xe1sico en Fabricaci\xf3n de Elementos Met\xe1licos"},{"uid":"9002","gradeLevel":"basic","name":"Profesional B\xe1sico en Fabricaci\xf3n y Montaje"},{"uid":"9003","gradeLevel":"middle","name":"T\xe9cnico en Joyer\xeda"},{"uid":"9004","gradeLevel":"middle","name":"T\xe9cnico en Mecanizado"},{"uid":"9005","gradeLevel":"middle","name":"T\xe9cnico en Soldadura y Calderer\xeda"},{"uid":"9006","gradeLevel":"superior","name":"T\xe9cnico Superior en Dise\xf1o en Fabricaci\xf3n Mec\xe1nica"},{"uid":"9007","gradeLevel":"superior","name":"T\xe9cnico Superior en Programaci\xf3n de la Producci\xf3n en Fabricaci\xf3n Mec\xe1nica"},{"uid":"9008","gradeLevel":"superior","name":"T\xe9cnico Superior en \xd3ptica de Anteojer\xeda"}]},{"category":{"uid":"010","name":"Hosteler\xeda y Turismo"},"titles":[{"uid":"10001","gradeLevel":"basic","name":"Profesional B\xe1sico en Actividades de Panader\xeda y Pasteler\xeda"},{"uid":"10002","gradeLevel":"basic","name":"Profesional B\xe1sico en Alojamiento y Lavander\xeda"},{"uid":"10003","gradeLevel":"basic","name":"Profesional B\xe1sico en Cocina y Restauraci\xf3n"},{"uid":"10004","gradeLevel":"middle","name":"T\xe9cnico en Cocina y Gastronom\xeda"},{"uid":"10005","gradeLevel":"middle","name":"T\xe9cnico en Servicios en Restauraci\xf3n"},{"uid":"10006","gradeLevel":"superior","name":"T\xe9cnico Superior en Agencias de Viajes y Gesti\xf3n de Eventos"},{"uid":"10007","gradeLevel":"superior","name":"T\xe9cnico Superior en Direcci\xf3n de Cocina"},{"uid":"10008","gradeLevel":"superior","name":"T\xe9cnico Superior en Direcci\xf3n de Servicios de Restauraci\xf3n"},{"uid":"10009","gradeLevel":"superior","name":"T\xe9cnico Superior en Gesti\xf3n de Alojamientos Tur\xedsticos"},{"uid":"10010","gradeLevel":"superior","name":"T\xe9cnico Superior en Gu\xeda, Informaci\xf3n y Asistencias Tur\xedsticas"}]},{"category":{"uid":"011","name":"Imagen Personal"},"titles":[{"uid":"11001","gradeLevel":"basic","name":"Profesional B\xe1sico en Peluquer\xeda y Est\xe9tica"},{"uid":"11002","gradeLevel":"middle","name":"T\xe9cnico en Est\xe9tica y Belleza"},{"uid":"11003","gradeLevel":"middle","name":"T\xe9cnico en Peluquer\xeda y Cosm\xe9tica Capilar"},{"uid":"11004","gradeLevel":"superior","name":"T\xe9cnico Superior en Asesor\xeda de Imagen Personal y Corporativa"},{"uid":"11005","gradeLevel":"superior","name":"T\xe9cnico Superior en Caracterizaci\xf3n y Maquillaje Profesional"},{"uid":"11006","gradeLevel":"superior","name":"T\xe9cnico Superior en Estilismo y Direcci\xf3n de Peluquer\xeda"},{"uid":"11007","gradeLevel":"superior","name":"T\xe9cnico Superior en Est\xe9tica Integral y Bienestar"}]},{"category":{"uid":"011","name":"Imagen y Sonido"},"titles":[{"uid":"11001","gradeLevel":"superior","name":"T\xe9cnico Superior en Sonido para Audiovisuales y Espect\xe1culos"},{"uid":"11002","gradeLevel":"superior","name":"T\xe9cnico Superior en Animaciones 3D, Juegos y Entornos Interactivos"},{"uid":"11003","gradeLevel":"middle","name":"T\xe9cnico en V\xeddeo, Disc-jockey y Sonido"},{"uid":"11004","gradeLevel":"superior","name":"T\xe9cnico Superior en Iluminaci\xf3n, Captaci\xf3n y Tratamiento de Imagen"},{"uid":"11005","gradeLevel":"superior","name":"T\xe9cnico Superior en Realizaci\xf3n de Proyectos Audiovisuales y Espect\xe1culos"}]},{"category":{"uid":"012","name":"Industrias Alimentarias"},"titles":[{"uid":"12001","gradeLevel":"basic","name":"Profesional B\xe1sico en Industrias Alimentarias"},{"uid":"12002","gradeLevel":"middle","name":"T\xe9cnico en Aceites de Oliva y Vinos"},{"uid":"12003","gradeLevel":"middle","name":"T\xe9cnico en Elaboraci\xf3n de Productos Alimenticios"},{"uid":"12004","gradeLevel":"middle","name":"T\xe9cnico en Panader\xeda, Reposter\xeda y Confiter\xeda"},{"uid":"12005","gradeLevel":"superior","name":"T\xe9cnico Superior en Procesos y Calidad en la Industria Alimentaria"},{"uid":"12006","gradeLevel":"superior","name":"T\xe9cnico Superior en Vitivinicultura"}]},{"category":{"uid":"013","name":"Inform\xe1tica y Comunicaciones"},"titles":[{"uid":"13001","gradeLevel":"basic","name":"Profesional B\xe1sico en Inform\xe1tica de Oficina"},{"uid":"13002","gradeLevel":"basic","name":"Profesional B\xe1sico en Inform\xe1tica y Comunicaciones"},{"uid":"13003","gradeLevel":"middle","name":"T\xe9cnico en Sistemas Microinform\xe1ticos y Redes"},{"uid":"13004","gradeLevel":"superior","name":"T\xe9cnico Superior en Administraci\xf3n de Sistemas Inform\xe1ticos en Red"},{"uid":"13005","gradeLevel":"superior","name":"T\xe9cnico Superior en Desarrollo de Aplicaciones Web"}]},{"category":{"uid":"014","name":"Instalaci\xf3n y Mantenimiento"},"titles":[{"uid":"14001","gradeLevel":"basic","name":"Profesional B\xe1sico en Mantenimiento de Viviendas"},{"uid":"14002","gradeLevel":"middle","name":"T\xe9cnico en Instalaciones de Producci\xf3n de Calor"},{"uid":"14003","gradeLevel":"middle","name":"T\xe9cnico en Instalaciones Frigor\xedficas y de Climatizaci\xf3n"},{"uid":"14004","gradeLevel":"middle","name":"T\xe9cnico en Mantenimiento Electromec\xe1nico"},{"uid":"14005","gradeLevel":"superior","name":"T\xe9cnico Superior en Desarrollo de Proyectos de Instalaciones T\xe9rmicas y de Fluidos"},{"uid":"14006","gradeLevel":"superior","name":"T\xe9cnico Superior en Mantenimiento de Instalaciones T\xe9rmicas y de Fluidos"},{"uid":"14007","gradeLevel":"superior","name":"T\xe9cnico Superior en Mecatr\xf3nica Industrial"},{"uid":"14008","gradeLevel":"superior","name":"T\xe9cnico Superior en Prevenci\xf3n de Riesgos Profesionales"}]},{"category":{"uid":"015","name":"Madera, Mueble y Corcho"},"titles":[{"uid":"15001","gradeLevel":"basic","name":"Profesional B\xe1sico en Carpinter\xeda y Mueble"},{"uid":"15002","gradeLevel":"middle","name":"T\xe9cnico en Carpinter\xeda y Mueble"},{"uid":"15003","gradeLevel":"superior","name":"T\xe9cnico Superior en Dise\xf1o y Amueblamiento"}]},{"category":{"uid":"016","name":"Mar\xedtimo-Pesquera"},"titles":[{"uid":"16001","gradeLevel":"middle","name":"T\xe9cnico en Cultivos Acu\xedcolas"},{"uid":"16002","gradeLevel":"middle","name":"T\xe9cnico en Navegaci\xf3n y Pesca de Litoral"},{"uid":"16003","gradeLevel":"middle","name":"T\xe9cnico en Operaciones Subacu\xe1ticas e Hiperb\xe1ricas"},{"uid":"16004","gradeLevel":"superior","name":"T\xe9cnico Superior en Acuicultura"},{"uid":"16005","gradeLevel":"superior","name":"T\xe9cnico Superior en Transporte Mar\xedtimo y Pesca de Altura"}]},{"category":{"uid":"017","name":"Qu\xedmica"},"titles":[{"uid":"17001","gradeLevel":"middle","name":"T\xe9cnico en Operaciones de Laboratorio"},{"uid":"17002","gradeLevel":"middle","name":"T\xe9cnico en Planta Qu\xedmica"},{"uid":"17003","gradeLevel":"superior","name":"T\xe9cnico Superior en Laboratorio de An\xe1lisis y de Control de Calidad"},{"uid":"17004","gradeLevel":"superior","name":"T\xe9cnico Superior en Qu\xedmica Industrial"}]},{"category":{"uid":"018","name":"Sanidad"},"titles":[{"uid":"18001","gradeLevel":"middle","name":"T\xe9cnico en Cuidados Auxiliares de Enfermer\xeda"},{"uid":"18002","gradeLevel":"middle","name":"T\xe9cnico en Emergencias Sanitarias"},{"uid":"18003","gradeLevel":"middle","name":"T\xe9cnico en Farmacia y Parafarmacia"},{"uid":"18004","gradeLevel":"superior","name":"T\xe9cnico Superior en Anatom\xeda Patol\xf3gica y Citodiagn\xf3stico"},{"uid":"18005","gradeLevel":"superior","name":"T\xe9cnico Superior en Diet\xe9tica"},{"uid":"18006","gradeLevel":"superior","name":"T\xe9cnico Superior en Documentaci\xf3n y Administraci\xf3n Sanitarias"},{"uid":"18007","gradeLevel":"superior","name":"T\xe9cnico Superior en Higiene Bucodental"},{"uid":"18008","gradeLevel":"superior","name":"T\xe9cnico Superior en Imagen para el Diagn\xf3stico y Medicina Nuclear"},{"uid":"18009","gradeLevel":"superior","name":"T\xe9cnico Superior en Laboratorio Cl\xednico y Biom\xe9dico"},{"uid":"18010","gradeLevel":"superior","name":"T\xe9cnico Superior en Pr\xf3tesis Dentales"},{"uid":"18011","gradeLevel":"superior","name":"T\xe9cnico Superior en Radioterapia y Dosimetr\xeda"},{"uid":"18012","gradeLevel":"superior","name":"T\xe9cnico Superior en Salud Ambiental"}]},{"category":{"uid":"019","name":"Seguridad y Medio Ambiente"},"titles":[{"uid":"19001","gradeLevel":"middle","name":"T\xe9cnico en Emergencias y Protecci\xf3n Civil"},{"uid":"19002","gradeLevel":"superior","name":"T\xe9cnico Superior en Educaci\xf3n y Control Ambiental"}]},{"category":{"uid":"020","name":"Servicios Socioculturales y a la Comunidad"},"titles":[{"uid":"20001","gradeLevel":"middle","name":"T\xe9cnico en Atenci\xf3n a Personas en Situaci\xf3n de Dependencia"},{"uid":"20002","gradeLevel":"superior","name":"T\xe9cnico Superior en Animaci\xf3n Sociocultural y Tur\xedstica"},{"uid":"20003","gradeLevel":"superior","name":"T\xe9cnico Superior en Educaci\xf3n Infantil"},{"uid":"20004","gradeLevel":"superior","name":"T\xe9cnico Superior en Integraci\xf3n Social"},{"uid":"20005","gradeLevel":"superior","name":"T\xe9cnico Superior en Mediaci\xf3n Comunicativa"}]},{"category":{"uid":"021","name":"Textil, Confecci\xf3n y Piel"},"titles":[{"uid":"20001","gradeLevel":"basic","name":"Profesional B\xe1sico en Arreglo y Reparaci\xf3n de Art\xedculos Textiles y de Piel"},{"uid":"20002","gradeLevel":"middle","name":"T\xe9cnico en Calzado y Complementos de Moda"},{"uid":"20003","gradeLevel":"middle","name":"T\xe9cnico en Confecci\xf3n y Moda"},{"uid":"20004","gradeLevel":"superior","name":"T\xe9cnico Superior en Patronaje y Moda"}]},{"category":{"uid":"022","name":"Transporte y Mantenimiento de Veh\xedculos"},"titles":[{"uid":"20001","gradeLevel":"basic","name":"Profesional B\xe1sico en Mantenimiento de Veh\xedculos"},{"uid":"20002","gradeLevel":"middle","name":"T\xe9cnico en Carrocer\xeda"},{"uid":"20003","gradeLevel":"middle","name":"T\xe9cnico en Electromec\xe1nica de Maquinaria"},{"uid":"20004","gradeLevel":"middle","name":"T\xe9cnico en Electromec\xe1nica de Veh\xedculos Autom\xf3viles"},{"uid":"20005","gradeLevel":"superior","name":"T\xe9cnico Superior en Automoci\xf3n"}]}]')},"8r/t":function(e,t,a){"use strict";a.r(t),a.d(t,"ProfileModule",(function(){return rt}));var i=a("ofXK"),c=a("tyNb"),n=a("lJxs"),r=a("eIep"),l=a("fXoL"),o=a("eyTg"),s=a("0IaG"),m=a("3Pt+"),d=a("dQXc");function u(e){const t=/^[XYZ]?([0-9]{7,8})([A-Z])$/i;let a=!1;if(e.value&&9===e.value.length){let c=e.value.toUpperCase().replace(/\s/,"");var i=c.charAt(0);switch(i){case"X":i=0;break;case"Y":i=1;break;case"Z":i=2}return c=i+c.substr(1),t.test(c)&&(a=c.charAt(8)==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(parseInt(c,10)%23)),a?null:{invalidNif:{valid:!1,value:e.value}}}return{invalidNif:{valid:!1,value:e.value}}}var g=a("HXUq"),p=a("wd/R"),h=a.n(p),f=a("Wp6s"),v=a("kmnG"),b=a("qFsG"),D=a("iadO"),y=a("d3UM"),C=a("TGoP"),S=a("FKr1");function L(e,t){if(1&e&&(l.mc(0,"mat-error"),l.Rc(1),l.lc()),2&e){const e=l.yc();l.Ub(1),l.Tc(" ",e.errors.pattern," ")}}function T(e,t){if(1&e&&(l.mc(0,"mat-error"),l.Rc(1),l.lc()),2&e){const e=l.yc();l.Ub(1),l.Tc(" ",e.errors.namelength," ")}}function w(e,t){if(1&e&&(l.mc(0,"mat-error"),l.Rc(1),l.lc()),2&e){const e=l.yc();l.Ub(1),l.Tc(" ",e.errors.spaces," ")}}function R(e,t){if(1&e&&(l.mc(0,"mat-error"),l.Rc(1),l.lc()),2&e){const e=l.yc();l.Ub(1),l.Tc(" ",e.errors.pattern," ")}}function I(e,t){if(1&e&&(l.mc(0,"mat-error"),l.Rc(1),l.lc()),2&e){const e=l.yc();l.Ub(1),l.Tc(" ",e.errors.namelength," ")}}function M(e,t){if(1&e&&(l.mc(0,"mat-error"),l.Rc(1),l.lc()),2&e){const e=l.yc();l.Ub(1),l.Tc(" ",e.errors.spaces," ")}}function F(e,t){if(1&e&&(l.mc(0,"mat-option",25),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Dc("value",e),l.Ub(1),l.Tc("",e," ")}}function E(e,t){1&e&&(l.mc(0,"mat-error"),l.Rc(1,"This is an "),l.mc(2,"strong"),l.Rc(3,"invalid"),l.lc(),l.Rc(4," phone number. "),l.lc())}function k(e,t){if(1&e&&(l.mc(0,"mat-error"),l.Rc(1),l.lc()),2&e){const e=l.yc();l.Ub(1),l.Tc(" ",e.errors.id," ")}}function U(e,t){if(1&e&&(l.mc(0,"mat-option",25),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Dc("value",e),l.Ub(1),l.Sc(e)}}function N(e,t){if(1&e&&(l.mc(0,"mat-option",25),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Dc("value",e),l.Ub(1),l.Sc(e)}}const x=function(){return{initialCountry:"es"}};class O{isErrorState(e,t){return!(!e||!e.invalid||!e.dirty&&!e.touched)}}class P{constructor(e,t,a,i){this.formBuilder=e,this.usersStorefacade=t,this.dialogRef=a,this.provinceList=[],this.townList=[],this.matcher=new O,this.errors={id:"El formato de identificador es incorrecto",namelength:"El contenido de este campo debe tener una longitud entre 3 y 55 caracteres",pattern:"Este campo solo debe contener caracteres alfanum\xe9ricos",spaces:"Este campo no debe contener espacios al principio o al final del texto"},this.licenseList=["Ninguno","AM","A1","A2","A","B1","B","C1","C","D1","D","BE","C1E","CE","D1E","DE"],this.user=i,d.forEach(e=>{this.provinceList.push(e.name)}),this.updateTownList(i.address.province.name);const c=new Date(h()(i.birthdate,"DD/MM/YYYY").format("YYYY-MM-DD"));this.personalDetailsDlgForm=this.formBuilder.group({name:[i.name,[m.p.minLength(3),m.p.maxLength(55),g.a,m.p.pattern(/[a-zA-Z0-9&_\.-]/)]],surname:[i.surname,[m.p.minLength(3),m.p.maxLength(55),g.a,m.p.pattern(/[a-zA-Z0-9&_\.-]/)]],birthdate:new m.d(c,[]),phone:[i.phone,m.p.required],phone2:[i.phone2,m.p.required],documentType:[i.documentType.name,m.p.required],documentNumber:[i.documentNumber,[u]],address:[i.address.street,m.p.required],province:[i.address.province.name,m.p.required],municipe:[i.address.municipe.name,m.p.required],license:[i.license,m.p.required],aboutMe:i.aboutMe,otherCompetences:i.otherCompetences}),this.personalDetailsDlgForm.get("province").setValue(i.address.province.name),this.personalDetailsDlgForm.get("municipe").setValue(i.address.municipe.name),this.personalDetailsDlgForm.get("license").setValue(i.license.split(","))}hasError(e){e||""===this.personalDetailsDlgForm.value.phone||this.personalDetailsDlgForm.get("phone").setErrors(["invalid_cell_phone",!0])}ngOnInit(){}close(){this.dialogRef.close()}save(){let e={};Object.assign(e,this.user),e.name=this.personalDetailsDlgForm.get("name").value,e.surname=this.personalDetailsDlgForm.get("surname").value,e.phone=this.personalDetailsDlgForm.get("phone").value,e.phone2=this.personalDetailsDlgForm.get("phone2").value,"NIF"===this.personalDetailsDlgForm.get("documentType").value?e.documentType={uid:1,name:"NIF"}:e.documentType={uid:2,name:"NIE"},e.documentNumber=this.personalDetailsDlgForm.get("documentNumber").value;let t=d.find(e=>e.name===this.personalDetailsDlgForm.get("province").value),a=t.towns.find(e=>e.name===this.personalDetailsDlgForm.get("municipe").value);e.address={street:this.personalDetailsDlgForm.get("address").value,municipe:a,province:{uid:t.uid,name:t.name}},e.birthdate=h()(this.personalDetailsDlgForm.get("birthdate").value).format("DD/MM/YYYY"),this.usersStorefacade.updateUser(e),this.dialogRef.close(this.personalDetailsDlgForm.value)}updateTownList(e){let t=d.find(t=>t.name===e);this.townList=[],t.towns.forEach(e=>{this.townList.push(e.name)})}changeTown(){let e=this.personalDetailsDlgForm.get("province").value;this.updateTownList(e)}}P.\u0275fac=function(e){return new(e||P)(l.gc(m.c),l.gc(o.a),l.gc(s.g),l.gc(s.a))},P.\u0275cmp=l.ac({type:P,selectors:[["app-personal-details-dialog"]],decls:88,vars:20,consts:[[3,"formGroup"],["mat-card-avatar","",1,"personal-picture"],[1,"half-width-field"],["matInput","","type","text","placeholder","Nombre","name","name","formControlName","name"],[4,"ngIf"],["matInput","","type","text","placeholder","Apellidos","name","surname","formControlName","surname"],["matInput","","formControlName","birthdate",3,"matDatepicker"],["matSuffix","",3,"for"],["panelClass","light-theme","touchUi",""],["picker",""],["panelClass","light-theme","formControlName","license","multiple",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","ng2TelInput","","formControlName","phone",3,"ng2TelInputOptions","errorStateMatcher","hasError"],["matInput","","ng2TelInput","","formControlName","phone2",3,"ng2TelInputOptions"],["panelClass","light-theme","formControlName","documentType"],["value","NIF"],["matInput","","type","text","placeholder","NIF/NIE","name","documentNumber","formControlName","documentNumber",3,"errorStateMatcher"],[1,"full-width-field"],["matInput","","type","text","placeholder","Direcci\xf3n","name","address","formControlName","address"],["panelClass","light-theme","formControlName","province",3,"selectionChange"],["panelClass","light-theme","formControlName","municipe"],["matInput","","name","aboutMe","formControlName","aboutMe",3,"matTextareaAutosize"],["matInput","","name","otherCompetences","formControlName","otherCompetences",3,"matTextareaAutosize"],[1,"mat-raised-button",3,"click"],[1,"mat-raised-button","mat-primary",3,"click"],[3,"value"]],template:function(e,t){if(1&e&&(l.mc(0,"mat-dialog-content",0),l.mc(1,"mat-card"),l.mc(2,"mat-card-header"),l.hc(3,"div",1),l.lc(),l.mc(4,"mat-card-content"),l.mc(5,"div"),l.mc(6,"mat-form-field",2),l.mc(7,"mat-label"),l.Rc(8,"Nombre"),l.lc(),l.hc(9,"input",3),l.Qc(10,L,2,1,"mat-error",4),l.Qc(11,T,2,1,"mat-error",4),l.Qc(12,w,2,1,"mat-error",4),l.lc(),l.mc(13,"mat-form-field",2),l.mc(14,"mat-label"),l.Rc(15,"Apellidos"),l.lc(),l.hc(16,"input",5),l.Qc(17,R,2,1,"mat-error",4),l.Qc(18,I,2,1,"mat-error",4),l.Qc(19,M,2,1,"mat-error",4),l.lc(),l.lc(),l.mc(20,"div"),l.mc(21,"mat-form-field",2),l.mc(22,"mat-label"),l.Rc(23,"Fecha de nacimiento"),l.lc(),l.hc(24,"input",6),l.hc(25,"mat-datepicker-toggle",7),l.hc(26,"mat-datepicker",8,9),l.lc(),l.mc(28,"mat-form-field",2),l.mc(29,"mat-label"),l.Rc(30,"Permiso de conducir"),l.lc(),l.mc(31,"mat-select",10),l.Qc(32,F,2,2,"mat-option",11),l.lc(),l.lc(),l.lc(),l.mc(33,"div"),l.mc(34,"mat-form-field",2),l.mc(35,"mat-label"),l.Rc(36,"Tel\xe9fono de contacto principal"),l.lc(),l.mc(37,"input",12),l.uc("hasError",(function(e){return t.hasError(e)})),l.lc(),l.Qc(38,E,5,0,"mat-error",4),l.lc(),l.mc(39,"mat-form-field",2),l.mc(40,"mat-label"),l.Rc(41,"Tel\xe9fono de contacto secundario"),l.lc(),l.hc(42,"input",13),l.lc(),l.lc(),l.mc(43,"div"),l.mc(44,"mat-form-field",2),l.mc(45,"mat-label"),l.Rc(46,"Tipo de documento"),l.lc(),l.mc(47,"mat-select",14),l.mc(48,"mat-option",15),l.Rc(49,"NIF"),l.lc(),l.mc(50,"mat-option",15),l.Rc(51,"NIE"),l.lc(),l.lc(),l.lc(),l.mc(52,"mat-form-field",2),l.mc(53,"mat-label"),l.Rc(54,"NIF/NIE"),l.lc(),l.hc(55,"input",16),l.Qc(56,k,2,1,"mat-error",4),l.lc(),l.lc(),l.mc(57,"div"),l.mc(58,"mat-form-field",17),l.mc(59,"mat-label"),l.Rc(60,"Direcci\xf3n"),l.lc(),l.hc(61,"input",18),l.lc(),l.lc(),l.mc(62,"div"),l.mc(63,"mat-form-field",2),l.mc(64,"mat-label"),l.Rc(65,"Provincia"),l.lc(),l.mc(66,"mat-select",19),l.uc("selectionChange",(function(e){return t.changeTown()})),l.Qc(67,U,2,2,"mat-option",11),l.lc(),l.lc(),l.mc(68,"mat-form-field",2),l.mc(69,"mat-label"),l.Rc(70,"Municipio"),l.lc(),l.mc(71,"mat-select",20),l.Qc(72,N,2,2,"mat-option",11),l.lc(),l.lc(),l.lc(),l.mc(73,"div"),l.mc(74,"mat-form-field",17),l.mc(75,"mat-label"),l.Rc(76,"Acerca de m\xed"),l.lc(),l.hc(77,"textarea",21),l.lc(),l.lc(),l.mc(78,"div"),l.mc(79,"mat-form-field",17),l.mc(80,"mat-label"),l.Rc(81,"Otras competencias"),l.lc(),l.hc(82,"textarea",22),l.lc(),l.lc(),l.lc(),l.lc(),l.lc(),l.mc(83,"mat-dialog-actions"),l.mc(84,"button",23),l.uc("click",(function(e){return t.close()})),l.Rc(85,"Cerrar"),l.lc(),l.mc(86,"button",24),l.uc("click",(function(e){return t.save()})),l.Rc(87,"Guardar"),l.lc(),l.lc()),2&e){const e=l.Ic(27);l.Dc("formGroup",t.personalDetailsDlgForm),l.Ub(10),l.Dc("ngIf",t.personalDetailsDlgForm.get("name").hasError("pattern")),l.Ub(1),l.Dc("ngIf",t.personalDetailsDlgForm.get("name").hasError("minlength")||t.personalDetailsDlgForm.get("name").hasError("maxlength")),l.Ub(1),l.Dc("ngIf",t.personalDetailsDlgForm.get("name").hasError("invalidName")),l.Ub(5),l.Dc("ngIf",t.personalDetailsDlgForm.get("surname").hasError("pattern")),l.Ub(1),l.Dc("ngIf",t.personalDetailsDlgForm.get("surname").hasError("minlength")||t.personalDetailsDlgForm.get("surname").hasError("maxlength")),l.Ub(1),l.Dc("ngIf",t.personalDetailsDlgForm.get("surname").hasError("invalidName")),l.Ub(5),l.Dc("matDatepicker",e),l.Ub(1),l.Dc("for",e),l.Ub(7),l.Dc("ngForOf",t.licenseList),l.Ub(5),l.Dc("ng2TelInputOptions",l.Ec(18,x))("errorStateMatcher",t.matcher),l.Ub(1),l.Dc("ngIf",!t.personalDetailsDlgForm.get("phone").valid&&t.personalDetailsDlgForm.get("phone").touched),l.Ub(4),l.Dc("ng2TelInputOptions",l.Ec(19,x)),l.Ub(13),l.Dc("errorStateMatcher",t.matcher),l.Ub(1),l.Dc("ngIf",t.personalDetailsDlgForm.get("documentNumber").hasError("invalidNif")),l.Ub(11),l.Dc("ngForOf",t.provinceList),l.Ub(5),l.Dc("ngForOf",t.townList)}},directives:[s.e,m.l,m.f,f.a,f.e,f.c,f.d,v.c,v.f,b.b,m.b,m.k,m.e,i.k,D.b,D.d,v.g,D.a,y.a,i.j,C.a,S.o,b.d,s.c,v.b],styles:[".personal-picture{background-image:url(mike_wazowski.d12196341cff598cc615.jpg);background-size:cover}.half-width-field{width:30vw;margin-right:3vw}.third-width-field{width:26vw;margin-right:3vw}.full-width-field{width:65vw;margin-right:3vw}"],encapsulation:2});var A=a("bTqV");class Y{constructor(e,t,a){this.dialog=e,this.usersStorefacade=t,this.route=a,this.user$=this.route.params.pipe(Object(n.a)(e=>e.id),Object(r.a)(e=>this.usersStorefacade.getUserById(e))),this.isUsernameValid=!0,this.isPasswordValid=!0,this.isReadOnly=!1,this.initialize_user(),this.user$.subscribe(e=>{this.isReadOnly=!1,this.user=e,this.isReadOnly=!0})}ngOnInit(){}openDialog(){const e=new s.d;e.disableClose=!0,e.autoFocus=!0,e.data=this.user,e.panelClass=this.theme,this.dialog.open(P,e).afterClosed().subscribe(e=>{console.log("Dialog output:",e)})}initialize_user(){this.user={password:"",psswrequest:!1,id:-1,username:"",avatar_hash:"",name:"",surname:"",email:"",birthdate:"",phone:"",phone2:"",documentType:{uid:2,name:"NIF"},documentNumber:"",address:{street:"",province:{uid:0,name:""},municipe:{uid:0,name:""}},roles:[],studies:[{uid:1,level:{uid:0,name:""},title:{uid:0,name:""},institution:{uid:0,name:""},date:"0",certificate:!1,bilingue:!1,category:{uid:0,name:""},grade:{uid:1,name:""},dual:!1}],experiences:[],languages:[],offers:[],license:"",aboutMe:"",otherCompetences:""}}}Y.\u0275fac=function(e){return new(e||Y)(l.gc(s.b),l.gc(o.a),l.gc(c.a))},Y.\u0275cmp=l.ac({type:Y,selectors:[["app-personal-details"]],inputs:{user:"user",theme:"theme"},decls:57,vars:11,consts:[[1,"mat-typography"],[1,"default-theme"],["mat-card-image","","src","assets/img/mike_wazowski.jpg"],[1,"half-width-field"],["matInput","","type","text","readonly","isReadOnly","name","name",3,"ngModel","ngModelChange"],["matInput","","type","text","readonly","isReadOnly","name","surname",3,"ngModel","ngModelChange"],["matInput","","type","text","readonly","isReadOnly","name","email",3,"ngModel","ngModelChange"],["matInput","","type","text","readonly","isReadOnly","name","birthdate",3,"ngModel","ngModelChange"],[1,"third-width-field"],["matInput","","type","text","readonly","isReadOnly","name","phone",3,"ngModel","ngModelChange"],["matInput","","type","text","readonly","isReadOnly","name","documentNumber",3,"ngModel","ngModelChange"],["matInput","","type","text","readonly","isReadOnly","name","license",3,"ngModel","ngModelChange"],[1,"full-width-field"],["matInput","","type","text","readonly","isReadOnly","name","address",3,"ngModel","ngModelChange"],["matInput","","readonly","isReadOnly","name","aboutMe",3,"matTextareaAutosize","ngModel","ngModelChange"],["matInput","","readonly","isReadOnly","name","otherCompetences",3,"matTextareaAutosize","ngModel","ngModelChange"],["mat-button","","type","button",1,"mat-raised-button",3,"color","click"]],template:function(e,t){1&e&&(l.mc(0,"section",0),l.mc(1,"h3"),l.Rc(2,"Personal Data"),l.lc(),l.lc(),l.mc(3,"form",1),l.mc(4,"mat-card"),l.mc(5,"mat-card-header"),l.hc(6,"img",2),l.lc(),l.mc(7,"mat-card-content"),l.mc(8,"div"),l.mc(9,"mat-form-field",3),l.mc(10,"mat-label"),l.Rc(11,"Nombre"),l.lc(),l.mc(12,"input",4),l.uc("ngModelChange",(function(e){return t.user.name=e})),l.lc(),l.lc(),l.mc(13,"mat-form-field",3),l.mc(14,"mat-label"),l.Rc(15,"Apellido"),l.lc(),l.mc(16,"input",5),l.uc("ngModelChange",(function(e){return t.user.surname=e})),l.lc(),l.lc(),l.lc(),l.mc(17,"div"),l.mc(18,"mat-form-field",3),l.mc(19,"mat-label"),l.Rc(20,"Correo electr\xf3nico"),l.lc(),l.mc(21,"input",6),l.uc("ngModelChange",(function(e){return t.user.email=e})),l.lc(),l.lc(),l.mc(22,"mat-form-field",3),l.mc(23,"mat-label"),l.Rc(24,"Fecha de Nacimiento"),l.lc(),l.mc(25,"input",7),l.uc("ngModelChange",(function(e){return t.user.birthdate=e})),l.lc(),l.lc(),l.lc(),l.mc(26,"div"),l.mc(27,"mat-form-field",8),l.mc(28,"mat-label"),l.Rc(29,"Tel\xe9fono"),l.lc(),l.mc(30,"input",9),l.uc("ngModelChange",(function(e){return t.user.phone=e})),l.lc(),l.lc(),l.mc(31,"mat-form-field",8),l.mc(32,"mat-label"),l.Rc(33,"NIF/NIE"),l.lc(),l.mc(34,"input",10),l.uc("ngModelChange",(function(e){return t.user.documentNumber=e})),l.lc(),l.lc(),l.mc(35,"mat-form-field",8),l.mc(36,"mat-label"),l.Rc(37,"Licencia de conducir"),l.lc(),l.mc(38,"input",11),l.uc("ngModelChange",(function(e){return t.user.license=e})),l.lc(),l.lc(),l.lc(),l.mc(39,"div"),l.mc(40,"mat-form-field",12),l.mc(41,"mat-label"),l.Rc(42,"Direcci\xf3n"),l.lc(),l.mc(43,"input",13),l.uc("ngModelChange",(function(e){return t.user.address.street=e})),l.lc(),l.lc(),l.lc(),l.hc(44,"div"),l.mc(45,"div"),l.mc(46,"mat-form-field",12),l.mc(47,"mat-label"),l.Rc(48,"Sobre m\xed"),l.lc(),l.mc(49,"textarea",14),l.uc("ngModelChange",(function(e){return t.user.aboutMe=e})),l.lc(),l.lc(),l.lc(),l.mc(50,"div"),l.mc(51,"mat-form-field",12),l.mc(52,"mat-label"),l.Rc(53,"Otras competencias"),l.lc(),l.mc(54,"textarea",15),l.uc("ngModelChange",(function(e){return t.user.otherCompetences=e})),l.lc(),l.lc(),l.lc(),l.lc(),l.lc(),l.mc(55,"button",16),l.uc("click",(function(e){return t.openDialog()})),l.Rc(56,"Editar"),l.lc(),l.lc()),2&e&&(l.Ub(12),l.Dc("ngModel",t.user.name),l.Ub(4),l.Dc("ngModel",t.user.surname),l.Ub(5),l.Dc("ngModel",t.user.email),l.Ub(4),l.Dc("ngModel",t.user.birthdate),l.Ub(5),l.Dc("ngModel",t.user.phone),l.Ub(4),l.Dc("ngModel",t.user.documentNumber),l.Ub(4),l.Dc("ngModel",t.user.license),l.Ub(5),l.Dc("ngModel",t.user.address.street),l.Ub(6),l.Dc("ngModel",t.user.aboutMe),l.Ub(5),l.Dc("ngModel",t.user.otherCompetences),l.Ub(1),l.Dc("color","primary"))},directives:[m.q,m.l,m.m,f.a,f.e,f.f,f.d,v.c,v.f,b.b,m.b,m.k,m.n,b.d,A.a],styles:[".mat-card-header{width:25vw}.half-width-field{width:40vw;margin-right:3vw}.third-width-field{width:26vw;margin-right:3vw}.full-width-field{width:83vw;margin-right:3vw}"],encapsulation:2,changeDetection:0});var j=a("tk/3"),_=a("LRne"),Q=a("JIr8"),q=a("1Fo7"),z=a("kW3D");class G{constructor(e){this.httpClient=e,this.SERVER_URL="https://file.io/"}upload(e){return this.httpClient.post(this.SERVER_URL,e,{reportProgress:!0,observe:"events"})}}G.\u0275fac=function(e){return new(e||G)(l.qc(j.b))},G.\u0275prov=l.cc({token:G,factory:G.\u0275fac,providedIn:"root"});var B=a("bSwM"),V=a("NFeN");const $=["fileUpload"],H=["fileUpload_cfgs"];function J(e,t){if(1&e){const e=l.nc();l.mc(0,"mat-card"),l.mc(1,"mat-card-header"),l.mc(2,"section",8),l.mc(3,"h3",9),l.Rc(4,"T\xedtulo de ciclo universitario"),l.lc(),l.lc(),l.lc(),l.mc(5,"mat-card-content"),l.mc(6,"div"),l.mc(7,"mat-form-field",10),l.mc(8,"mat-label"),l.Rc(9,"Nombre del centro"),l.lc(),l.hc(10,"input",11),l.lc(),l.lc(),l.mc(11,"div"),l.mc(12,"mat-form-field",10),l.mc(13,"mat-label"),l.Rc(14,"T\xedtulo"),l.lc(),l.hc(15,"input",12),l.lc(),l.lc(),l.mc(16,"div"),l.mc(17,"mat-form-field",13),l.mc(18,"mat-label"),l.Rc(19,"Fecha del t\xedtulo"),l.lc(),l.hc(20,"input",14),l.hc(21,"mat-datepicker-toggle",15),l.hc(22,"mat-datepicker",16,17),l.lc(),l.lc(),l.mc(24,"mat-checkbox",18),l.Rc(25,"Formaci\xf3n biling\xfce"),l.lc(),l.mc(26,"div"),l.mc(27,"button",19),l.uc("click",(function(t){return l.Kc(e),l.yc().onClick()})),l.mc(28,"mat-icon",20),l.Rc(29,"file_upload"),l.lc(),l.Rc(30," Carga fichero "),l.lc(),l.lc(),l.hc(31,"input",21,22),l.lc(),l.lc()}if(2&e){const e=l.Ic(23);l.Ub(20),l.Dc("matDatepicker",e),l.Ub(1),l.Dc("for",e)}}function K(e,t){if(1&e&&(l.mc(0,"mat-option",37),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Dc("value",e),l.Ub(1),l.Tc(" ",e,"")}}function X(e,t){if(1&e&&(l.mc(0,"mat-option",37),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Dc("value",e),l.Ub(1),l.Tc("",e," ")}}function Z(e,t){if(1&e&&(l.mc(0,"mat-option",37),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Dc("value",e),l.Ub(1),l.Sc(e)}}function W(e,t){if(1&e){const e=l.nc();l.mc(0,"mat-card"),l.mc(1,"mat-card-header"),l.mc(2,"section",8),l.mc(3,"h3",9),l.Rc(4,"T\xedtulo de ciclo formativo"),l.lc(),l.lc(),l.lc(),l.mc(5,"mat-card-content"),l.mc(6,"div"),l.mc(7,"mat-form-field",10),l.mc(8,"mat-label"),l.Rc(9,"Nombre del centro"),l.lc(),l.mc(10,"mat-select",23),l.Qc(11,K,2,2,"mat-option",24),l.lc(),l.lc(),l.lc(),l.mc(12,"div"),l.mc(13,"mat-form-field",10),l.mc(14,"mat-label"),l.Rc(15,"Familia profesional"),l.lc(),l.mc(16,"mat-select",25),l.Qc(17,X,2,2,"mat-option",24),l.lc(),l.lc(),l.lc(),l.mc(18,"div"),l.mc(19,"mat-form-field",13),l.mc(20,"mat-label"),l.Rc(21,"Grado"),l.lc(),l.mc(22,"mat-select",26),l.uc("selectionChange",(function(t){return l.Kc(e),l.yc().changeTitle()})),l.mc(23,"mat-option",27),l.Rc(24,"Grado Superior"),l.lc(),l.mc(25,"mat-option",28),l.Rc(26,"Grado medio"),l.lc(),l.mc(27,"mat-option",29),l.Rc(28,"Grado b\xe1sico"),l.lc(),l.lc(),l.lc(),l.mc(29,"mat-form-field",30),l.mc(30,"mat-label"),l.Rc(31,"Fecha del t\xedtulo"),l.lc(),l.hc(32,"input",31),l.hc(33,"mat-datepicker-toggle",15),l.hc(34,"mat-datepicker",16,17),l.lc(),l.lc(),l.mc(36,"div"),l.mc(37,"mat-form-field",10),l.mc(38,"mat-label"),l.Rc(39,"T\xedtulo"),l.lc(),l.mc(40,"mat-select",32),l.Qc(41,Z,2,2,"mat-option",24),l.lc(),l.lc(),l.lc(),l.mc(42,"div"),l.mc(43,"mat-checkbox",33),l.Rc(44,"Formaci\xf3n dual"),l.lc(),l.mc(45,"mat-checkbox",34),l.Rc(46,"Formaci\xf3n biling\xfce"),l.lc(),l.mc(47,"button",19),l.uc("click",(function(t){return l.Kc(e),l.yc().onClick()})),l.mc(48,"mat-icon",20),l.Rc(49,"file_upload"),l.lc(),l.Rc(50," Carga certificado "),l.lc(),l.lc(),l.hc(51,"input",35,36),l.lc(),l.lc()}if(2&e){const e=l.Ic(35),t=l.yc();l.Ub(11),l.Dc("ngForOf",t.institutionListNames),l.Ub(6),l.Dc("ngForOf",t.categoryListNames),l.Ub(15),l.Dc("matDatepicker",e),l.Ub(1),l.Dc("for",e),l.Ub(8),l.Dc("ngForOf",t.CFGSTitleListNames)}}class ee{constructor(e,t,a,i){this.formBuilder=e,this.uploadService=t,this.dialogRef=a,this.institutionList=[],this.CFGSTitleList=[],this.categoryList=[],this.institutionListNames=[],this.CFGSTitleListNames=[],this.categoryListNames=[],this.gradeList=[{uid:1,name:"basic"},{uid:2,name:"middle"},{uid:3,name:"superior"}],this.file=[],this.selectedStudy=i,i.hasOwnProperty("level")&&2==i.level.uid?this.initialize_college(i):i.hasOwnProperty("level")&&1==i.level.uid?this.initialize_cfgs(i):this.initialize_undefined()}ngOnInit(){}initialize_cfgs(e){this.displayCFGS=!0,this.displayCollege=!1;const t=new Date(h()(e.date,"DD/MM/YYYY").format("YYYY-MM-DD"));this.initializeCfgsLists(),this.updateTitleList(e.category.name,e.grade.name),this.studyDetailsDlgForm=this.formBuilder.group({level:[e.level.name,m.p.required],institution:["",m.p.required],titleName:["",m.p.required],date:new m.d("",[]),bilingue:[!1,m.p.required],institution_cfgs:[e.institution.name,m.p.required],jobCategory:[e.category.name,m.p.required],gradeLevel:[e.grade.name,m.p.required],titleName_cfgs:[e.title.name,m.p.required],date_cfgs:new m.d(t,[]),dual:[e.dual,m.p.required],bilingue_cfgs:[e.bilingue,m.p.required]}),this.studyDetailsDlgForm.get("level").setValue("CFGS"),this.studyDetailsDlgForm.get("institution_cfgs").setValue(e.institution.name),this.studyDetailsDlgForm.get("jobCategory").setValue(e.category.name),this.studyDetailsDlgForm.get("gradeLevel").setValue(e.grade.name),this.studyDetailsDlgForm.get("titleName_cfgs").setValue(e.title.name)}initialize_college(e){const t=new Date(h()(e.date,"DD/MM/YYYY").format("YYYY-MM-DD"));this.displayCFGS=!1,this.displayCollege=!0,this.studyDetailsDlgForm=this.formBuilder.group({level:[e.level.name,m.p.required],institution:[e.institution,m.p.required],titleName:[e.title.name,m.p.required],date:new m.d(t,[]),bilingue:[e.bilingue,m.p.required],institution_cfgs:["",m.p.required],jobCategory:["",m.p.required],gradeLevel:["",m.p.required],titleName_cfgs:["",m.p.required],date_cfgs:new m.d("",[]),dual:[!1,m.p.required],bilingue_cfgs:[!1,m.p.required]}),this.studyDetailsDlgForm.get("level").setValue("college"),this.studyDetailsDlgForm.get("institution_cfgs").setValue(e.institution.name),this.studyDetailsDlgForm.get("jobCategory").setValue(e.category.name),this.studyDetailsDlgForm.get("gradeLevel").setValue(e.grade.name),this.studyDetailsDlgForm.get("titleName_cfgs").setValue(e.title.name)}initialize_undefined(){this.selectedStudy.uid=-1,this.studyDetailsDlgForm=this.formBuilder.group({level:["",m.p.required],institution:["",m.p.required],titleName:["",m.p.required],date:new m.d("",[]),bilingue:[!1,m.p.required],institution_cfgs:["",m.p.required],jobCategory:["",m.p.required],gradeLevel:["",m.p.required],titleName_cfgs:["",m.p.required],date_cfgs:new m.d("",[]),dual:["",m.p.required],bilingue_cfgs:["",m.p.required]})}uploadFile(){const e=new FormData;console.log("uploadFile"+this.file),e.append("file",this.file.data),this.file.inProgress=!0,this.uploadService.upload(e).pipe(Object(n.a)(e=>{switch(e.type){case j.d.UploadProgress:this.file.progress=Math.round(100*e.loaded/e.total);break;case j.d.Response:return e}}),Object(Q.a)(e=>(this.file.inProgress=!1,Object(_.a)(`${this.file.data.name} upload failed.`)))).subscribe(e=>{"object"==typeof e&&console.log(e.body)})}onClick(){let e;e=this.displayCFGS?this.fileUpload_cfgs.nativeElement:this.fileUpload.nativeElement,e.onchange=()=>{this.file={data:e.files[0],inProgress:!1,progress:0},console.log(this.file),this.uploadFile()},e.click()}close(){this.dialogRef.close()}save(){if("college"===this.studyDetailsDlgForm.get("level").value){let e={};e.uid=this.selectedStudy.uid,e.level={uid:2,name:"Ciclo universitario"},e.title={uid:1,name:this.studyDetailsDlgForm.get("titleName").value},e.institution=this.studyDetailsDlgForm.get("institution").value,e.bilingue=this.studyDetailsDlgForm.get("bilingue").value,e.date=h()(this.studyDetailsDlgForm.get("date").value).unix().toString(),this.selectedStudy=e}else{let e={};e.uid=this.selectedStudy.uid,e.level={uid:1,name:"Ciclo formativo"};let t=this.CFGSTitleList.find(e=>e.name===this.studyDetailsDlgForm.get("titleName_cfgs").value);e.title={name:t.name,uid:t.uid},e.grade=this.gradeList.find(e=>e.name===t.gradeLevel),e.institution=this.institutionList.find(e=>e.name===this.studyDetailsDlgForm.get("institution_cfgs").value),e.bilingue=this.studyDetailsDlgForm.get("bilingue_cfgs").value,e.date=h()(this.studyDetailsDlgForm.get("date_cfgs").value).unix().toString(),e.category=this.categoryList.find(e=>e.name===this.studyDetailsDlgForm.get("jobCategory").value),e.dual=this.studyDetailsDlgForm.get("dual").value,this.selectedStudy=e}this.dialogRef.close(this.selectedStudy)}initializeCfgsLists(){q.forEach(e=>{this.categoryList.push(e.category),this.categoryListNames.push(e.category.name)}),z.forEach(e=>{this.institutionList.push(e),this.institutionListNames.push(e.name)})}updateTitleList(e,t){let a=q.find(t=>t.category.name===e);this.CFGSTitleList=a.titles.filter(e=>e.gradeLevel===t),this.CFGSTitleListNames=this.CFGSTitleList.map(e=>e.name)}changeTitle(){let e=this.studyDetailsDlgForm.get("jobCategory").value,t=this.studyDetailsDlgForm.get("gradeLevel").value;this.updateTitleList(e,t)}changeTitleType(){"CFGS"===this.studyDetailsDlgForm.get("level").value?(this.displayCFGS=!0,this.displayCollege=!1,this.initializeCfgsLists()):(this.displayCFGS=!1,this.displayCollege=!0)}}ee.\u0275fac=function(e){return new(e||ee)(l.gc(m.c),l.gc(G),l.gc(s.g),l.gc(s.a))},ee.\u0275cmp=l.ac({type:ee,selectors:[["app-study-details-dialog"]],viewQuery:function(e,t){var a;(1&e&&(l.Vc($,!0),l.Vc(H,!0)),2&e)&&(l.Hc(a=l.vc())&&(t.fileUpload=a.first),l.Hc(a=l.vc())&&(t.fileUpload_cfgs=a.first))},decls:18,vars:3,consts:[["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[3,"formGroup"],["panelClass","light-theme","formControlName","level",3,"selectionChange"],["value","CFGS"],["value","college"],[4,"ngIf"],[1,"mat-raised-button",3,"click"],[1,"mat-raised-button","mat-primary",3,"click"],[1,"mat-typography"],["mat-card-title",""],[1,"full-width-field"],["matInput","","type","text","placeholder","Nombre del centro","name","institution","formControlName","institution"],["matInput","","type","text","placeholder","T\xedtulo","name","titleName","formControlName","titleName"],[1,"half-width-field"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["panelClass","light-theme","touchUi",""],["picker",""],["color","primary","formControlName","bilingue"],["mat-button","",3,"click"],["color","primary"],["type","file","id","fileUpload","name","fileUpload","accept","image/*",2,"display","none"],["fileUpload",""],["panelClass","light-theme","formControlName","institution_cfgs"],[3,"value",4,"ngFor","ngForOf"],["panelClass","light-theme","formControlName","jobCategory"],["panelClass","light-theme","formControlName","gradeLevel",3,"selectionChange"],["value","superior"],["value","middle"],["value","basic"],["color","primary","panelClass","light-theme",1,"half-width-field"],["matInput","","formControlName","date_cfgs",3,"matDatepicker"],["panelClass","light-theme","formControlName","titleName_cfgs"],["color","primary","formControlName","dual"],["color","primary","formControlName","bilingue_cfgs"],["type","file","id","fileUpload_cfgs","name","fileUpload_cfgs","accept","image/*",2,"display","none"],["fileUpload_cfgs",""],[3,"value"]],template:function(e,t){1&e&&(l.hc(0,"link",0),l.mc(1,"mat-dialog-content",1),l.mc(2,"div"),l.mc(3,"mat-form-field"),l.mc(4,"mat-label"),l.Rc(5,"Tipo de t\xedtulo"),l.lc(),l.mc(6,"mat-select",2),l.uc("selectionChange",(function(e){return t.changeTitleType()})),l.mc(7,"mat-option",3),l.Rc(8,"T\xedtulo formativo"),l.lc(),l.mc(9,"mat-option",4),l.Rc(10,"T\xedtulo universitario"),l.lc(),l.lc(),l.lc(),l.Qc(11,J,33,2,"mat-card",5),l.Qc(12,W,53,5,"mat-card",5),l.mc(13,"mat-dialog-actions"),l.mc(14,"button",6),l.uc("click",(function(e){return t.close()})),l.Rc(15,"Close"),l.lc(),l.mc(16,"button",7),l.uc("click",(function(e){return t.save()})),l.Rc(17,"Save"),l.lc(),l.lc(),l.lc(),l.lc()),2&e&&(l.Ub(1),l.Dc("formGroup",t.studyDetailsDlgForm),l.Ub(10),l.Dc("ngIf",t.displayCollege),l.Ub(1),l.Dc("ngIf",t.displayCFGS))},directives:[s.e,m.l,m.f,v.c,v.f,y.a,m.k,m.e,S.o,i.k,s.c,f.a,f.e,f.i,f.d,b.b,m.b,D.b,D.d,v.g,D.a,B.a,A.a,V.a,i.j],styles:[".half-width-field{width:30vw;margin-right:3vw}.third-width-field{width:26vw;margin-right:3vw}.full-width-field{width:65vw;margin-right:3vw}"],encapsulation:2});var te=a("f0Cb"),ae=a("+0xr");function ie(e,t){1&e&&(l.mc(0,"th",15),l.Rc(1," Nivel "),l.lc())}function ce(e,t){if(1&e&&(l.mc(0,"td",16),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.level.name," ")}}function ne(e,t){1&e&&(l.mc(0,"th",15),l.Rc(1," T\xedtulo "),l.lc())}function re(e,t){if(1&e&&(l.mc(0,"td",16),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.title.name," ")}}function le(e,t){1&e&&(l.mc(0,"th",15),l.Rc(1," Centro "),l.lc())}function oe(e,t){if(1&e&&(l.mc(0,"td",16),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.institution.name," ")}}function se(e,t){1&e&&(l.mc(0,"th",15),l.Rc(1," Fecha "),l.lc())}function me(e,t){if(1&e&&(l.mc(0,"td",16),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.date," ")}}function de(e,t){1&e&&(l.mc(0,"th",15),l.Rc(1," Certificado "),l.lc())}function ue(e,t){if(1&e&&(l.mc(0,"td",16),l.hc(1,"mat-checkbox",17),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Dc("checked",e.certificate)}}function ge(e,t){if(1&e){const e=l.nc();l.mc(0,"mat-header-cell"),l.mc(1,"button",18),l.uc("click",(function(t){return l.Kc(e),l.yc().createNew()})),l.mc(2,"mat-icon",19),l.Rc(3,"add"),l.lc(),l.lc(),l.lc()}}function pe(e,t){if(1&e){const e=l.nc();l.mc(0,"mat-cell"),l.mc(1,"button",18),l.uc("click",(function(a){l.Kc(e);const i=t.$implicit,c=t.index;return l.yc().edit(i,c)})),l.mc(2,"mat-icon",19),l.Rc(3,"create"),l.lc(),l.lc(),l.mc(4,"button",18),l.uc("click",(function(a){l.Kc(e);const i=t.index;return l.yc().cancelOrDelete(i)})),l.mc(5,"mat-icon",20),l.Rc(6,"clear"),l.lc(),l.lc(),l.lc()}}function he(e,t){1&e&&l.hc(0,"tr",21)}function fe(e,t){1&e&&l.hc(0,"tr",22)}class ve{constructor(e,t,a){this.dialog=e,this.usersStorefacade=t,this.route=a,this.studies=[],this.studiesDisplayedColumns=["level","title","institution","date","certificate","actions"],this.user$=this.route.params.pipe(Object(n.a)(e=>e.id),Object(r.a)(e=>this.usersStorefacade.getUserById(e))),this.user$.subscribe(e=>{this.user=e,e.studies&&(this.studies=[],e.studies.map(e=>{let t={};Object.assign(t,e),e.date&&(t.date=h.a.unix(Number(e.date)).format("DD/MM/YYYY"),this.studies.push(t))}))})}ngOnInit(){}createNew(){const e=new s.d;e.disableClose=!0,e.autoFocus=!0,e.data={},e.panelClass="light-theme",this.dialog.open(ee,e).afterClosed().subscribe(e=>{let t={};t.id=this.user.id,t.studies=[];let a={};Object.assign(a,e),a.uid=this.user.studies.length+1,t.studies.push(a),this.user.studies.map(e=>t.studies.push(e)),console.log("data has been pushed"),this.usersStorefacade.updateUser(t)})}edit(e,t){const a=new s.d;a.disableClose=!0,a.autoFocus=!0,a.data=e,a.panelClass="light-theme",this.currentStudy=this.user.studies[t],this.dialog.open(ee,a).afterClosed().subscribe(e=>{if(e){let t={};t.id=this.user.id,t.studies=this.user.studies.filter(e=>e.uid!==this.currentStudy.uid);let a={};a.uid=this.currentStudy.uid,Object.assign(a,e),t.studies.push(a),this.usersStorefacade.updateUser(t)}})}cancelOrDelete(e){this.currentStudy=this.user.studies[e];let t={};t.id=this.user.id,t.studies=this.user.studies.filter(e=>e.uid!==this.currentStudy.uid),this.usersStorefacade.updateUser(t)}}ve.\u0275fac=function(e){return new(e||ve)(l.gc(s.b),l.gc(o.a),l.gc(c.a))},ve.\u0275cmp=l.ac({type:ve,selectors:[["app-study-details"]],inputs:{theme:"theme"},decls:25,vars:3,consts:[["inset","\u201ctrue\u201d"],[1,"mat-typography"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","level"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","institution"],["matColumnDef","date"],["matColumnDef","certificate"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["color","primary",3,"checked"],[1,"mat-raised-button",3,"click"],["color","primary"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(l.hc(0,"mat-divider",0),l.mc(1,"section",1),l.mc(2,"h3"),l.Rc(3,"Formaci\xf3n acad\xe9mica"),l.lc(),l.lc(),l.mc(4,"table",2),l.kc(5,3),l.Qc(6,ie,2,0,"th",4),l.Qc(7,ce,2,1,"td",5),l.jc(),l.kc(8,6),l.Qc(9,ne,2,0,"th",4),l.Qc(10,re,2,1,"td",5),l.jc(),l.kc(11,7),l.Qc(12,le,2,0,"th",4),l.Qc(13,oe,2,1,"td",5),l.jc(),l.kc(14,8),l.Qc(15,se,2,0,"th",4),l.Qc(16,me,2,1,"td",5),l.jc(),l.kc(17,9),l.Qc(18,de,2,0,"th",4),l.Qc(19,ue,2,1,"td",5),l.jc(),l.kc(20,10),l.Qc(21,ge,4,0,"mat-header-cell",11),l.Qc(22,pe,7,0,"mat-cell",12),l.jc(),l.Qc(23,he,1,0,"tr",13),l.Qc(24,fe,1,0,"tr",14),l.lc()),2&e&&(l.Ub(4),l.Dc("dataSource",t.studies),l.Ub(19),l.Dc("matHeaderRowDef",t.studiesDisplayedColumns),l.Ub(1),l.Dc("matRowDefColumns",t.studiesDisplayedColumns))},directives:[te.a,ae.j,ae.c,ae.e,ae.b,ae.g,ae.i,ae.d,ae.a,B.a,V.a,ae.f,ae.h],styles:["h3{margin-top:10px;margin-left:2vw}.mat-column-actions{width:20vw}.mat-column-level{width:15vw}.mat-column-title{width:40vw}.mat-column-institution{width:15vw}.mat-column-date{width:10vw}.mat-column-certificate{width:5vw}table.mat-table{width:94vw;margin-left:auto;margin-right:auto}table.mat-table td.mat-cell{text-align:center;font-size:14px}table.mat-table th.mat-header-cell{text-align:center}table.mat-table .mat-raised-button{margin-left:auto;margin-right:auto}table.mat-table .mat-raised-button .mat-icon{font-size:16px}"],encapsulation:2});class be{constructor(e,t,a){this.formBuilder=e,this.dialogRef=t;const i=new Date(h()(a.startdate,"DD/MM/YYYY").format("YYYY-MM-DD")),c=new Date(h()(a.enddate,"DD/MM/YYYY").format("YYYY-MM-DD"));this.experienceDetailsDlgForm=this.formBuilder.group({company:[a.company,[m.p.minLength(3),m.p.maxLength(255),g.a]],position:[a.position,[m.p.minLength(3),m.p.maxLength(255),g.a]],startdate:new m.d(i,[]),enddate:new m.d(c,[]),tasks:[a.tasks,m.p.required]}),this.currentExperience=a}ngOnInit(){}close(){this.dialogRef.close()}save(){this.dialogRef.close(this.experienceDetailsDlgForm.value)}}function De(e,t){1&e&&(l.mc(0,"th",14),l.Rc(1," Empresa "),l.lc())}function ye(e,t){if(1&e&&(l.mc(0,"td",15),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.company," ")}}function Ce(e,t){1&e&&(l.mc(0,"th",14),l.Rc(1," Puesto "),l.lc())}function Se(e,t){if(1&e&&(l.mc(0,"td",15),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.position," ")}}function Le(e,t){1&e&&(l.mc(0,"th",14),l.Rc(1," Desde "),l.lc())}function Te(e,t){if(1&e&&(l.mc(0,"td",15),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.startdate," ")}}function we(e,t){1&e&&(l.mc(0,"th",14),l.Rc(1," Hasta "),l.lc())}function Re(e,t){if(1&e&&(l.mc(0,"td",15),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.enddate," ")}}function Ie(e,t){if(1&e){const e=l.nc();l.mc(0,"mat-header-cell"),l.mc(1,"button",16),l.uc("click",(function(t){return l.Kc(e),l.yc().createNew()})),l.mc(2,"mat-icon",17),l.Rc(3,"add"),l.lc(),l.lc(),l.lc()}}function Me(e,t){if(1&e){const e=l.nc();l.mc(0,"mat-cell"),l.mc(1,"button",16),l.uc("click",(function(a){l.Kc(e);const i=t.$implicit,c=t.index;return l.yc().edit(i,c)})),l.mc(2,"mat-icon",17),l.Rc(3,"create"),l.lc(),l.lc(),l.mc(4,"button",16),l.uc("click",(function(a){l.Kc(e);const i=t.index;return l.yc().cancelOrDelete(i)})),l.mc(5,"mat-icon",18),l.Rc(6,"clear"),l.lc(),l.lc(),l.lc()}}function Fe(e,t){1&e&&l.hc(0,"tr",19)}function Ee(e,t){1&e&&l.hc(0,"tr",20)}be.\u0275fac=function(e){return new(e||be)(l.gc(m.c),l.gc(s.g),l.gc(s.a))},be.\u0275cmp=l.ac({type:be,selectors:[["app-work-experience-details-dialog"]],decls:41,vars:5,consts:[[3,"formGroup"],["mat-card-title",""],[1,"full-width-field"],["matInput","","type","text","name","company","formControlName","company"],["matInput","","type","text","name","position","formControlName","position"],[1,"half-width-field"],["matInput","","formControlName","startdate",3,"matDatepicker"],["matSuffix","",3,"for"],["panelClass","light-theme","touchUi",""],["startpicker",""],["matInput","","formControlName","enddate",3,"matDatepicker"],["endpicker",""],["matInput","","name","tasks","formControlName","tasks",3,"matTextareaAutosize"],[1,"mat-raised-button",3,"click"],[1,"mat-raised-button","mat-primary",3,"click"]],template:function(e,t){if(1&e&&(l.mc(0,"mat-dialog-content",0),l.mc(1,"mat-card"),l.mc(2,"mat-card-header"),l.mc(3,"h3",1),l.Rc(4,"Experiencia profesional"),l.lc(),l.lc(),l.mc(5,"mat-card-content"),l.mc(6,"div"),l.mc(7,"mat-form-field",2),l.mc(8,"mat-label"),l.Rc(9,"Empresa"),l.lc(),l.hc(10,"input",3),l.lc(),l.lc(),l.mc(11,"div"),l.mc(12,"mat-form-field",2),l.mc(13,"mat-label"),l.Rc(14,"Puesto"),l.lc(),l.hc(15,"input",4),l.lc(),l.lc(),l.mc(16,"div"),l.mc(17,"mat-form-field",5),l.mc(18,"mat-label"),l.Rc(19,"Desde"),l.lc(),l.hc(20,"input",6),l.hc(21,"mat-datepicker-toggle",7),l.hc(22,"mat-datepicker",8,9),l.lc(),l.mc(24,"mat-form-field",5),l.mc(25,"mat-label"),l.Rc(26,"Hasta"),l.lc(),l.hc(27,"input",10),l.hc(28,"mat-datepicker-toggle",7),l.hc(29,"mat-datepicker",8,11),l.lc(),l.lc(),l.mc(31,"div"),l.mc(32,"mat-form-field",2),l.mc(33,"mat-label"),l.Rc(34,"Tareas realizadas en este puesto"),l.lc(),l.hc(35,"textarea",12),l.lc(),l.lc(),l.lc(),l.lc(),l.mc(36,"mat-dialog-actions"),l.mc(37,"button",13),l.uc("click",(function(e){return t.close()})),l.Rc(38,"Close"),l.lc(),l.mc(39,"button",14),l.uc("click",(function(e){return t.save()})),l.Rc(40,"Save"),l.lc(),l.lc(),l.lc()),2&e){const e=l.Ic(23),a=l.Ic(30);l.Dc("formGroup",t.experienceDetailsDlgForm),l.Ub(20),l.Dc("matDatepicker",e),l.Ub(1),l.Dc("for",e),l.Ub(6),l.Dc("matDatepicker",a),l.Ub(1),l.Dc("for",a)}},directives:[s.e,m.l,m.f,f.a,f.e,f.i,f.d,v.c,v.f,b.b,m.b,m.k,m.e,D.b,D.d,v.g,D.a,b.d,s.c],styles:[".half-width-field[_ngcontent-%COMP%]{width:30vw;margin-right:3vw}.third-width-field[_ngcontent-%COMP%]{width:26vw;margin-right:3vw}.full-width-field[_ngcontent-%COMP%]{width:65vw;margin-right:3vw}"]});class ke{constructor(e,t,a,i){this.dialog=e,this.usersStorefacade=t,this.route=a,this.dateAdapter=i,this.user$=this.route.params.pipe(Object(n.a)(e=>e.id),Object(r.a)(e=>this.usersStorefacade.getUserById(e))),this.experiencesDisplayedColumns=["company","position","startdate","enddate","actions"],this.user$.subscribe(e=>{this.experiences=e.experiences,this.user=e})}ngOnInit(){}createNew(){const e=new s.d;e.disableClose=!0,e.autoFocus=!0,e.panelClass=this.theme,e.data={company:"",position:"",startdate:"01/01/1970",enddate:"01/01/1970",tasks:""},this.currentExpId=this.user.studies.map(e=>e.uid).reduce((e,t)=>t>e?t:e)+1,this.dialog.open(be,e).afterClosed().subscribe(e=>{if(e){e.uid=this.user.languages.map(e=>e.uid).reduce((e,t)=>t>e?t:e)+1,e.startdate=h()(e.startdate).format("DD/MM/YYYY"),e.enddate=h()(e.enddate).format("DD/MM/YYYY");let t={};t.id=this.user.id,t.experiences=[],this.user.experiences.map(e=>t.experiences.push(e)),t.experiences.push(e),this.usersStorefacade.updateUser(t)}})}edit(e,t){const a=new s.d;a.disableClose=!0,a.autoFocus=!0,a.panelClass=this.theme,console.log(e),this.currentExpId=this.experiences[t].uid,a.data=e,this.dialog.open(be,a).afterClosed().subscribe(e=>{if(e){e.startdate=h()(e.startdate).format("DD/MM/YYYY"),e.enddate=h()(e.enddate).format("DD/MM/YYYY");let t={};t.id=this.user.id;let a={};Object.assign(a,e),a.uid=this.currentExpId,t.experiences=this.user.experiences.filter(e=>e.uid!=this.currentExpId),t.experiences.push(a),console.log("data has been pushed"),this.usersStorefacade.updateUser(t)}})}cancelOrDelete(e){this.currentExpId=this.experiences[e].uid;let t={};t.id=this.user.id,t.experiences=this.user.experiences.filter(e=>e.uid!==this.currentExpId),this.usersStorefacade.updateUser(t)}}ke.\u0275fac=function(e){return new(e||ke)(l.gc(s.b),l.gc(o.a),l.gc(c.a),l.gc(S.c))},ke.\u0275cmp=l.ac({type:ke,selectors:[["app-work-experiences"]],inputs:{theme:"theme"},decls:22,vars:3,consts:[["inset","\u201ctrue\u201d"],[1,"mat-typography"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","company"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["matColumnDef","startdate"],["matColumnDef","enddate"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"mat-raised-button",3,"click"],["color","primary"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(l.hc(0,"mat-divider",0),l.mc(1,"section",1),l.mc(2,"h3"),l.Rc(3,"Experiencia laboral"),l.lc(),l.lc(),l.mc(4,"table",2),l.kc(5,3),l.Qc(6,De,2,0,"th",4),l.Qc(7,ye,2,1,"td",5),l.jc(),l.kc(8,6),l.Qc(9,Ce,2,0,"th",4),l.Qc(10,Se,2,1,"td",5),l.jc(),l.kc(11,7),l.Qc(12,Le,2,0,"th",4),l.Qc(13,Te,2,1,"td",5),l.jc(),l.kc(14,8),l.Qc(15,we,2,0,"th",4),l.Qc(16,Re,2,1,"td",5),l.jc(),l.kc(17,9),l.Qc(18,Ie,4,0,"mat-header-cell",10),l.Qc(19,Me,7,0,"mat-cell",11),l.jc(),l.Qc(20,Fe,1,0,"tr",12),l.Qc(21,Ee,1,0,"tr",13),l.lc()),2&e&&(l.Ub(4),l.Dc("dataSource",t.experiences),l.Ub(16),l.Dc("matHeaderRowDef",t.experiencesDisplayedColumns),l.Ub(1),l.Dc("matRowDefColumns",t.experiencesDisplayedColumns))},directives:[te.a,ae.j,ae.c,ae.e,ae.b,ae.g,ae.i,ae.d,ae.a,V.a,ae.f,ae.h],styles:["h3[_ngcontent-%COMP%]{margin-top:10px;margin-left:2vw}.mat-column-actions[_ngcontent-%COMP%]{width:20vw}.mat-column-company[_ngcontent-%COMP%]{width:15vw}.mat-column-position[_ngcontent-%COMP%]{width:40vw}.mat-column-enddate[_ngcontent-%COMP%], .mat-column-startdate[_ngcontent-%COMP%]{width:13vw}table.mat-table[_ngcontent-%COMP%]{width:94vw;margin-left:auto;margin-right:auto}table.mat-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{text-align:center;font-size:14px}table.mat-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{text-align:center}table.mat-table[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}table.mat-table[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px}"]});const Ue=[{uid:1,name:"Ingl\xe9s"},{uid:2,name:"Franc\xe9s"},{uid:3,name:"Italiano"},{uid:4,name:"Catal\xe1n"},{uid:5,name:"Alem\xe1n"},{uid:6,name:"Ruso"},{uid:6,name:"Chino"}],Ne=[{uid:1,name:"A1"},{uid:2,name:"A2"},{uid:3,name:"B1"},{uid:2,name:"B2"},{uid:5,name:"C1"},{uid:6,name:"C2"}];function xe(e,t){if(1&e&&(l.mc(0,"mat-option",14),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Dc("value",e),l.Ub(1),l.Sc(e)}}function Oe(e,t){1&e&&(l.kc(0),l.mc(1,"mat-form-field"),l.mc(2,"mat-label"),l.Rc(3,"Idioma alternativo"),l.lc(),l.hc(4,"input",15),l.lc(),l.jc())}function Pe(e,t){if(1&e&&(l.mc(0,"mat-option",14),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Dc("value",e),l.Ub(1),l.Sc(e)}}class Ae{constructor(e,t,a){this.formBuilder=e,this.dialogRef=t,this.languageList=[],this.levelList=[],this.languageList=Ue.map(e=>e.name),this.languageList.push("Otro"),this.levelList=Ne.map(e=>e.name);const i=new Date(h()(a.date,"DD/MM/YYYY").format("YYYY-MM-DD"));this.currentLanguage=a,this.languageDetailsDlgForm=this.formBuilder.group({languageName:[a.name.name,m.p.required],other:[""],languageLevel:[a.level.name,m.p.required],date:new m.d(i,[])}),this.languageDetailsDlgForm.get("languageName").setValue(a.name.name),this.languageDetailsDlgForm.get("languageLevel").setValue(a.level.name)}ngOnInit(){}close(){this.dialogRef.close()}save(){let e={uid:-1};e.level=Ne.find(e=>e.name===this.languageDetailsDlgForm.get("languageLevel").value),e.name=Ue.find(e=>e.name===this.languageDetailsDlgForm.get("languageName").value),e.date=this.languageDetailsDlgForm.get("date").value,this.dialogRef.close(e)}}function Ye(e,t){1&e&&(l.mc(0,"th",14),l.Rc(1," Idioma "),l.lc())}function je(e,t){if(1&e&&(l.mc(0,"td",15),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.name.name," ")}}function _e(e,t){1&e&&(l.mc(0,"th",14),l.Rc(1," Nivel "),l.lc())}function Qe(e,t){if(1&e&&(l.mc(0,"td",15),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.level.name," ")}}function qe(e,t){1&e&&(l.mc(0,"th",14),l.Rc(1," Fecha "),l.lc())}function ze(e,t){if(1&e&&(l.mc(0,"td",15),l.Rc(1),l.lc()),2&e){const e=t.$implicit;l.Ub(1),l.Tc(" ",e.date," ")}}function Ge(e,t){if(1&e){const e=l.nc();l.mc(0,"mat-header-cell"),l.mc(1,"button",16),l.uc("click",(function(t){return l.Kc(e),l.yc().createNew()})),l.mc(2,"mat-icon",17),l.Rc(3,"add"),l.lc(),l.lc(),l.lc()}}function Be(e,t){if(1&e){const e=l.nc();l.mc(0,"mat-cell"),l.mc(1,"button",16),l.uc("click",(function(a){l.Kc(e);const i=t.$implicit,c=t.index;return l.yc().edit(i,c)})),l.mc(2,"mat-icon",17),l.Rc(3,"create"),l.lc(),l.lc(),l.mc(4,"button",16),l.uc("click",(function(a){l.Kc(e);const i=t.index;return l.yc().cancelOrDelete(i)})),l.mc(5,"mat-icon",18),l.Rc(6,"clear"),l.lc(),l.lc(),l.lc()}}function Ve(e,t){1&e&&l.hc(0,"tr",19)}function $e(e,t){1&e&&l.hc(0,"tr",20)}Ae.\u0275fac=function(e){return new(e||Ae)(l.gc(m.c),l.gc(s.g),l.gc(s.a))},Ae.\u0275cmp=l.ac({type:Ae,selectors:[["app-language-details-dialog"]],decls:33,vars:6,consts:[[3,"formGroup"],[1,"mat-typography"],["mat-card-title",""],["panelClass","light-theme","formControlName","languageName"],["languageSelect",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["panelClass","light-theme","formControlName","languageLevel"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["panelClass","light-theme","touchUi",""],["picker",""],[1,"mat-raised-button",3,"click"],[1,"mat-raised-button","mat-primary",3,"click"],[3,"value"],["matInput","","type","text","name","other","formControlName","other"]],template:function(e,t){if(1&e&&(l.mc(0,"mat-dialog-content",0),l.mc(1,"mat-card"),l.mc(2,"mat-card-header"),l.mc(3,"section",1),l.mc(4,"h3",2),l.Rc(5,"Idiomas"),l.lc(),l.lc(),l.lc(),l.mc(6,"mat-card-content"),l.mc(7,"div"),l.mc(8,"mat-form-field"),l.mc(9,"mat-label"),l.Rc(10,"Idioma"),l.lc(),l.mc(11,"mat-select",3,4),l.Qc(13,xe,2,2,"mat-option",5),l.lc(),l.lc(),l.Qc(14,Oe,5,0,"ng-container",6),l.mc(15,"mat-form-field"),l.mc(16,"mat-label"),l.Rc(17,"Nivel"),l.lc(),l.mc(18,"mat-select",7),l.Qc(19,Pe,2,2,"mat-option",5),l.lc(),l.lc(),l.lc(),l.mc(20,"div"),l.mc(21,"mat-form-field"),l.mc(22,"mat-label"),l.Rc(23,"Fecha del t\xedtulo"),l.lc(),l.hc(24,"input",8),l.hc(25,"mat-datepicker-toggle",9),l.hc(26,"mat-datepicker",10,11),l.lc(),l.lc(),l.lc(),l.lc(),l.mc(28,"mat-dialog-actions"),l.mc(29,"button",12),l.uc("click",(function(e){return t.close()})),l.Rc(30,"Close"),l.lc(),l.mc(31,"button",13),l.uc("click",(function(e){return t.save()})),l.Rc(32,"Save"),l.lc(),l.lc(),l.lc()),2&e){const e=l.Ic(12),a=l.Ic(27);l.Dc("formGroup",t.languageDetailsDlgForm),l.Ub(13),l.Dc("ngForOf",t.languageList),l.Ub(1),l.Dc("ngIf","Otro"==e.value),l.Ub(5),l.Dc("ngForOf",t.levelList),l.Ub(5),l.Dc("matDatepicker",a),l.Ub(1),l.Dc("for",a)}},directives:[s.e,m.l,m.f,f.a,f.e,f.i,f.d,v.c,v.f,y.a,m.k,m.e,i.j,i.k,b.b,m.b,D.b,D.d,v.g,D.a,s.c,S.o],styles:[""],encapsulation:2});class He{constructor(e,t,a,i){this.dialog=e,this.usersStorefacade=t,this.route=a,this.dateAdapter=i,this.user$=this.route.params.pipe(Object(n.a)(e=>e.id),Object(r.a)(e=>this.usersStorefacade.getUserById(e))),this.languagesDisplayedColumns=["languageName","languageLevel","date","actions"],this.user$.subscribe(e=>{this.languages=e.languages,this.user=e,e.languages&&(this.languages=[],e.languages.map(e=>{let t={};Object.assign(t,e),e.date&&(t.date=h.a.unix(Number(e.date)).format("DD/MM/YYYY"),this.languages.push(t))}))})}ngOnInit(){}createNew(){const e=new s.d;e.disableClose=!0,e.autoFocus=!0,e.data={level:{uid:0,name:""},name:{uid:0,name:""},date:"01/01/1970"},e.panelClass="light-theme",this.currentLangUid=this.user.languages.map(e=>e.uid).reduce((e,t)=>t>e?t:e)+1,this.dialog.open(Ae,e).afterClosed().subscribe(e=>{if(e){let t={};t.id=this.user.id,t.languages=[];let a={};Object.assign(a,e),a.uid=this.currentLangUid,a.date=e.date.unix().toString(),t.languages.push(a),this.user.languages.map(e=>t.languages.push(e)),console.log("data has been pushed"),this.usersStorefacade.updateUser(t)}})}edit(e,t){const a=new s.d;a.disableClose=!0,a.autoFocus=!0,console.log(e),this.currentLangUid=this.user.languages[t].uid,a.data=e,a.panelClass="light-theme",this.dialog.open(Ae,a).afterClosed().subscribe(e=>{if(e){let t={};t.id=this.user.id,t.languages=[],t.languages=this.user.languages.filter(e=>e.uid!=this.currentLangUid);let a={};Object.assign(a,e),a.uid=this.currentLangUid,a.date=e.date.unix().toString(),t.languages.push(a),console.log("data has been pushed"),this.usersStorefacade.updateUser(t)}})}cancelOrDelete(e){this.currentLangUid=this.user.languages[e].uid;let t={};t.id=this.user.id,t.languages=this.user.languages.filter(e=>e.uid!==this.currentLangUid),this.usersStorefacade.updateUser(t)}}He.\u0275fac=function(e){return new(e||He)(l.gc(s.b),l.gc(o.a),l.gc(c.a),l.gc(S.c))},He.\u0275cmp=l.ac({type:He,selectors:[["app-language-details"]],inputs:{theme:"theme"},decls:20,vars:3,consts:[["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],["inset","\u201ctrue\u201d"],[1,"mat-typography"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","languageName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","languageLevel"],["matColumnDef","date"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"mat-raised-button",3,"click"],["color","primary"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(l.hc(0,"link",0),l.hc(1,"mat-divider",1),l.mc(2,"section",2),l.mc(3,"h3"),l.Rc(4,"Idiomas"),l.lc(),l.lc(),l.mc(5,"table",3),l.kc(6,4),l.Qc(7,Ye,2,0,"th",5),l.Qc(8,je,2,1,"td",6),l.jc(),l.kc(9,7),l.Qc(10,_e,2,0,"th",5),l.Qc(11,Qe,2,1,"td",6),l.jc(),l.kc(12,8),l.Qc(13,qe,2,0,"th",5),l.Qc(14,ze,2,1,"td",6),l.jc(),l.kc(15,9),l.Qc(16,Ge,4,0,"mat-header-cell",10),l.Qc(17,Be,7,0,"mat-cell",11),l.jc(),l.Qc(18,Ve,1,0,"tr",12),l.Qc(19,$e,1,0,"tr",13),l.lc()),2&e&&(l.Ub(5),l.Dc("dataSource",t.languages),l.Ub(13),l.Dc("matHeaderRowDef",t.languagesDisplayedColumns),l.Ub(1),l.Dc("matRowDefColumns",t.languagesDisplayedColumns))},directives:[te.a,ae.j,ae.c,ae.e,ae.b,ae.g,ae.i,ae.d,ae.a,V.a,ae.f,ae.h],styles:["h3{margin-top:10px;margin-left:2vw}.mat-column-actions,.mat-column-date,.mat-column-languageLevel,.mat-column-languageName{width:20vw}table.mat-table{width:94vw;margin-left:auto;margin-right:auto}table.mat-table td.mat-cell{font-size:14px;text-align:center}table.mat-table th.mat-header-cell{text-align:center}table.mat-table .mat-raised-button{margin-left:auto;margin-right:auto}table.mat-table .mat-raised-button .mat-icon{font-size:16px}"],encapsulation:2});class Je{constructor(e,t){this.usersStorefacade=e,this.route=t,this.user$=this.route.params.pipe(Object(n.a)(e=>e.id),Object(r.a)(e=>this.usersStorefacade.getUserById(e)))}ngOnInit(){}}Je.\u0275fac=function(e){return new(e||Je)(l.gc(o.a),l.gc(c.a))},Je.\u0275cmp=l.ac({type:Je,selectors:[["app-profile"]],decls:5,vars:3,consts:[["theme","light-theme",1,"light-theme",3,"user"],["theme","light-theme",1,"light-theme"]],template:function(e,t){1&e&&(l.hc(0,"app-personal-details",0),l.zc(1,"async"),l.hc(2,"app-study-details",1),l.hc(3,"app-work-experiences",1),l.hc(4,"app-language-details",1)),2&e&&l.Dc("user",l.Ac(1,1,t.user$))},directives:[Y,ve,ke,He],pipes:[i.b],styles:[""],encapsulation:2,changeDetection:0});const Ke=[{path:"",component:Je}];class Xe{}Xe.\u0275mod=l.ec({type:Xe}),Xe.\u0275inj=l.dc({factory:function(e){return new(e||Xe)},imports:[[c.c.forChild(Ke)],c.c]});var Ze=a("PCNd"),We=a("kt0X"),et=a("snw9"),tt=a("QIXu"),at=a("AytR"),it=a("B3rN"),ct=a("nvtb"),nt=a("zk9Z");class rt{}rt.\u0275mod=l.ec({type:rt}),rt.\u0275inj=l.dc({factory:function(e){return new(e||rt)},providers:[o.a,ct.a],imports:[[i.c,Xe,m.o,m.g,Ze.a,We.j.forFeature("users",nt.e),et.b.forFeature([tt.a]),at.a.production?[]:it.a.instrument()]]})},kW3D:function(e){e.exports=JSON.parse('[{"uid":"04000110","name":"I.E.S. Abdera"},{"uid":"04001151","name":"I.E.S. Celia Vi\xf1as"},{"uid":"04002052","name":"I.E.S. Jaroso"},{"uid":"04004620","name":"I.E.S. Al-\xc1ndalus"},{"uid":"04004826","name":"I.E.S. Murgi"},{"uid":"04700260","name":"I.E.S. Aguadulce"},{"uid":"11001828","name":"I.E.S. Rafael Alberti"},{"uid":"11004428","name":"I.E.S. Mar de C\xe1diz"},{"uid":"11005639","name":"I.E.S. Do\xf1ana"},{"uid":"11006681","name":"I.E.S. Ntra. Sra. de los Remedios"},{"uid":"11007922","name":"I.E.S. Francisco Romero Vargas"},{"uid":"11008227","name":"C.D.P. Jos\xe9 Cabrera"},{"uid":"14004580","name":"I.E.S. Marqu\xe9s de Comares"},{"uid":"14007945","name":"I.E.S. Trassierra"},{"uid":"14700079","name":"I.E.S. Gran Capit\xe1n"},{"uid":"18001123","name":"I.E.S. Pedro Jim\xe9nez Montoya"},{"uid":"18004288","name":"I.E.S. Polit\xe9cnico Hermenegildo Lanz"},{"uid":"18700098","name":"I.E.S. Zaid\xedn-Vergeles"},{"uid":"18700293","name":"I.E.S. Francisco Ayala"},{"uid":"21002011","name":"I.E.S. La Marisma"},{"uid":"21700010","name":"I.E.S. San Sebasti\xe1n"},{"uid":"21700630","name":"I.E.S. La Arboleda"},{"uid":"23000106","name":"I.E.S. Alfonso XI"},{"uid":"23002401","name":"I.E.S. Virgen del Carmen"},{"uid":"23002449","name":"I.E.S. Las Fuentezuelas"},{"uid":"23700281","name":"I.E.S. Oretania"},{"uid":"29001145","name":"I.E.S. Pedro Espinosa"},{"uid":"29005989","name":"I.E.S. Polit\xe9cnico Jes\xfas Mar\xedn"},{"uid":"29007329","name":"I.E.S. Vega de Mijas"},{"uid":"29007962","name":"I.E.S. Mart\xedn Rivero"},{"uid":"29009909","name":"I.E.S. Mar de Albor\xe1n"},{"uid":"29700011","name":"I.E.S. Campanillas"},{"uid":"41001941","name":"I.E.S. Luis V\xe9lez de Guevara"},{"uid":"41006390","name":"C.D.P. Altair"},{"uid":"41006900","name":"I.E.S. Vel\xe1zquez"},{"uid":"41007898","name":"I.E.S. Ruiz Gij\xf3n"},{"uid":"41009056","name":"I.E.S. Pol\xedgono Sur"},{"uid":"41009573","name":"I.E.S. Camas"},{"uid":"41011026","name":"I.E.S. Alixar"},{"uid":"41700014","name":"I.E.S. Julio Verne"},{"uid":"41700181","name":"I.E.S. Hermanos Machado"},{"uid":"41700853","name":"I.E.S. Jacarand\xe1"},{"uid":"41701390","name":"I.E.S. Sotero Hern\xe1ndez"}]')}}]);
//# sourceMappingURL=8-es2015.665a806661c12f2cbb8a.js.map